#!/usr/bin/env bash
###############################################################################
# notes-apple-count
#
# Usage:
#   notes-apple-count [<folder name>]
###############################################################################

_main() {
  local _folder_name="${1:-}"
  if [[ -z "${_folder_name:-}" ]]
  then
    _folder_name="notes.sh"
  fi
  local _script=

  read -r -d '' _script <<HEREDOC
tell application "Notes"
  tell account "iCloud"
    set myFolder to first folder whose name = "${_folder_name}"
    get the count of notes of myFolder
  end tell
end tell
HEREDOC
  osascript -e "${_script}"
} && _main "${@:-}"
